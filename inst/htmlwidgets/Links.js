(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Links = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Links = function () {
  Links.prototype._labIsInsideBubblePt = function _labIsInsideBubblePt(lab, pt) {
    var labLeftBorder = lab.x - lab.width / 2;
    var labRightBorder = lab.x + lab.width / 2;
    var labBotBorder = lab.y;
    var labTopBorder = lab.y - lab.height;

    return labRightBorder < pt.x + pt.r && labLeftBorder > pt.x - pt.r && labBotBorder < pt.y + pt.r && labTopBorder > pt.y - pt.r;
  };

  function Links(pts, lab) {
    _classCallCheck(this, Links);

    this.getLinkData = this.getLinkData.bind(this);
    this.getNewPtOnLogoLabelBorder = this.getNewPtOnLogoLabelBorder.bind(this);
    this.getNewPtOnTxtLabelBorder = this.getNewPtOnTxtLabelBorder.bind(this);
    this.getPtOnAncBorder = this.getPtOnAncBorder.bind(this);

    var _labIsText = function _labIsText(labelData) {
      return labelData.url === '';
    };

    this.links = [];
    for (var i = 0; i < pts.length; i++) {
      var pt = pts[i];
      var newLinkPt = null;
      if (!this._labIsInsideBubblePt(lab[i], pt)) {
        if (_labIsText(lab[i])) {
          newLinkPt = this.getNewPtOnTxtLabelBorder(lab[i], pt, pts);
        } else {
          newLinkPt = this.getNewPtOnLogoLabelBorder(lab[i], pt, pts);
        }
      }

      if (newLinkPt != null) {
        var ancBorderPt = this.getPtOnAncBorder(pt.x, pt.y, pt.r, newLinkPt[0], newLinkPt[1]);
        this.links.push({
          x1: ancBorderPt[0],
          y1: ancBorderPt[1],
          x2: newLinkPt[0],
          y2: newLinkPt[1],
          width: 1,
          color: pt.color
        });
      }
    }
  }

  Links.prototype.getLinkData = function getLinkData() {
    return this.links;
  };

  Links.prototype.getNewPtOnLogoLabelBorder = function getNewPtOnLogoLabelBorder(label, anchor) {
    // Don't draw a link if anc is inside logo
    var region = void 0;
    if (label.x - label.width / 2 < anchor.x && anchor.x < label.x + label.width / 2 && label.y - label.height < anchor.y && anchor.y < label.y) {
      return null;
    }

    // Calculations reference - http://stackoverflow.com/questions/4061576/finding-points-on-a-rectangle-at-a-given-angle
    var a = label.width;
    var b = label.height;
    var labx = label.x;
    var laby = label.y - label.height / 2;

    var dx = anchor.x - labx;
    var dy = anchor.y - laby;
    var angle = Math.atan(dy / dx);

    if (-Math.atan(b / a) < angle && angle < Math.atan(b / a)) {
      region = 1;
    } else if (Math.atan(b / a) < angle && angle < Math.PI - Math.atan(b / a)) {
      region = 2;
    } else if (Math.PI - Math.atan(b / a) < angle && angle < Math.PI + Math.atan(b / a)) {
      region = 3;
    } else if (Math.PI + Math.atan(b / a) < angle || angle < -Math.atan(b / a)) {
      region = 4;
    }

    if (region === 1 || region === 3) {
      if (dx > 0) {
        return [labx + a / 2, a / 2 * Math.tan(angle) + laby];
      } else {
        return [labx - a / 2, -(a / 2 * Math.tan(angle)) + laby];
      }
    } else if (region === 2 || region === 4) {
      if (dy > 0) {
        return [labx + b / (2 * Math.tan(angle)), b / 2 + laby];
      } else {
        return [labx - b / (2 * Math.tan(angle)), -b / 2 + laby];
      }
    }

    return null;
  };

  // calc the links from anc to label text if ambiguous


  Links.prototype.getNewPtOnTxtLabelBorder = function getNewPtOnTxtLabelBorder(label, anchor, anchorArray) {
    var labelXmid = label.x;
    var labelXleft = label.x - label.width / 2;
    var labelXright = label.x + label.width / 2;

    var labelYbot = label.y;
    var labelYtop = label.y - label.height;
    var labelYmid = label.y - label.height / 2;

    var ancL = anchor.x - anchor.r;
    var ancR = anchor.x + anchor.r;
    var ancT = anchor.y + anchor.r;
    var ancB = anchor.y - anchor.r;

    var labelBorder = {
      botL: [labelXleft, labelYbot],
      botC: [labelXmid, labelYbot],
      botR: [labelXright, labelYbot],
      topL: [labelXleft, labelYtop + 7],
      topC: [labelXmid, labelYtop + 7],
      topR: [labelXright, labelYtop + 7],
      midL: [labelXleft, labelYmid],
      midR: [labelXright, labelYmid]
    };

    var padding = 10;
    var centered = ancR > labelXleft && ancL < labelXright;
    var abovePadded = ancB < labelYtop - padding;
    var above = ancB < labelYtop;
    var belowPadded = ancT > labelYbot + padding;
    var below = ancT > labelYbot;
    var left = ancR < labelXleft;
    var right = ancL > labelXright;
    var leftPadded = ancR < labelXleft - padding;
    var rightPadded = ancL > labelXright + padding;

    if (centered && abovePadded) {
      return labelBorder.topC;
    } else if (centered && belowPadded) {
      return labelBorder.botC;
    } else if (above && left) {
      return labelBorder.topL;
    } else if (above && right) {
      return labelBorder.topR;
    } else if (below && left) {
      return labelBorder.botL;
    } else if (below && right) {
      return labelBorder.botR;
    } else if (leftPadded) {
      return labelBorder.midL;
    } else if (rightPadded) {
      return labelBorder.midR;
    } else {
      // Draw the link if there are any anc nearby
      var ambiguityFactor = 10;
      var padL = labelBorder.topL[0] - ambiguityFactor;
      var padR = labelBorder.topR[0] + ambiguityFactor;
      var padT = labelBorder.topL[1] - ambiguityFactor;
      var padB = labelBorder.botR[1] + ambiguityFactor;
      var ancNearby = 0;
      _(anchorArray).each(function (a) {
        if (a.x > padL && a.x < padR && a.y > padT && a.y < padB) {
          ancNearby++;
        }
      });
      if (ancNearby > 1) {
        if (!left && !right && !above && !below) {
          return labelBorder.botC;
        } else if (centered && above) {
          return labelBorder.topC;
        } else if (centered && below) {
          return labelBorder.botC;
        } else if (left && above) {
          return labelBorder.topL;
        } else if (left && below) {
          return labelBorder.botL;
        } else if (right && above) {
          return labelBorder.topR;
        } else if (right && below) {
          return labelBorder.botR;
        } else if (left) {
          return labelBorder.midL;
        } else if (right) {
          return labelBorder.midR;
        }
      }
    }

    return null;
  };

  Links.prototype.getPtOnAncBorder = function getPtOnAncBorder(cx, cy, cr, x, y) {
    var opp = Math.abs(cy - y);
    var adj = Math.abs(cx - x);
    var angle = Math.atan(opp / adj);

    var dx = cr * Math.cos(angle);
    var dy = cr * Math.sin(angle);

    var finalX = x < cx ? cx - dx : cx + dx;
    var finalY = y < cy ? cy - dy : cy + dy;

    return [finalX, finalY];
  };

  return Links;
}();

module.exports = Links;

},{}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJ0aGVTcmMvc2NyaXB0cy9MaW5rcy5lczYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0lDQU0sSztrQkFFSixvQixpQ0FBcUIsRyxFQUFLLEUsRUFBSTtBQUM1QixRQUFNLGdCQUFnQixJQUFJLENBQUosR0FBUyxJQUFJLEtBQUosR0FBWSxDQUEzQztBQUNBLFFBQU0saUJBQWlCLElBQUksQ0FBSixHQUFTLElBQUksS0FBSixHQUFZLENBQTVDO0FBQ0EsUUFBTSxlQUFlLElBQUksQ0FBekI7QUFDQSxRQUFNLGVBQWUsSUFBSSxDQUFKLEdBQVEsSUFBSSxNQUFqQzs7QUFFQSxXQUFRLGlCQUFrQixHQUFHLENBQUgsR0FBTyxHQUFHLENBQTdCLElBQXFDLGdCQUFpQixHQUFHLENBQUgsR0FBTyxHQUFHLENBQWhFLElBQXdFLGVBQWdCLEdBQUcsQ0FBSCxHQUFPLEdBQUcsQ0FBbEcsSUFBMEcsZUFBZ0IsR0FBRyxDQUFILEdBQU8sR0FBRyxDQUEzSTtBQUNELEc7O0FBRUQsaUJBQVksR0FBWixFQUFpQixHQUFqQixFQUFzQjtBQUFBOztBQUNwQixTQUFLLFdBQUwsR0FBbUIsS0FBSyxXQUFMLENBQWlCLElBQWpCLENBQXNCLElBQXRCLENBQW5CO0FBQ0EsU0FBSyx5QkFBTCxHQUFpQyxLQUFLLHlCQUFMLENBQStCLElBQS9CLENBQW9DLElBQXBDLENBQWpDO0FBQ0EsU0FBSyx3QkFBTCxHQUFnQyxLQUFLLHdCQUFMLENBQThCLElBQTlCLENBQW1DLElBQW5DLENBQWhDO0FBQ0EsU0FBSyxnQkFBTCxHQUF3QixLQUFLLGdCQUFMLENBQXNCLElBQXRCLENBQTJCLElBQTNCLENBQXhCOztBQUVBLFFBQU0sYUFBYSxTQUFiLFVBQWE7QUFBQSxhQUFhLFVBQVUsR0FBVixLQUFrQixFQUEvQjtBQUFBLEtBQW5COztBQUdBLFNBQUssS0FBTCxHQUFhLEVBQWI7QUFDQSxTQUFL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QUFtQixLQUFLLEVBQXZDO0FBQ0EsUUFBTSxTQUFTLElBQUksRUFBSixHQUFTLEtBQUssRUFBZCxHQUFtQixLQUFLLEVBQXZDOztBQUVBLFdBQU8sQ0FBQyxNQUFELEVBQVMsTUFBVCxDQUFQO0FBQ0QsRzs7Ozs7QUFHSCxPQUFPLE9BQVAsR0FBaUIsS0FBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiY2xhc3MgTGlua3Mge1xuXG4gIF9sYWJJc0luc2lkZUJ1YmJsZVB0KGxhYiwgcHQpIHtcbiAgICBjb25zdCBsYWJMZWZ0Qm9yZGVyID0gbGFiLnggLSAobGFiLndpZHRoIC8gMik7XG4gICAgY29uc3QgbGFiUmlnaHRCb3JkZXIgPSBsYWIueCArIChsYWIud2lkdGggLyAyKTtcbiAgICBjb25zdCBsYWJCb3RCb3JkZXIgPSBsYWIueTtcbiAgICBjb25zdCBsYWJUb3BCb3JkZXIgPSBsYWIueSAtIGxhYi5oZWlnaHQ7XG5cbiAgICByZXR1cm4gKGxhYlJpZ2h0Qm9yZGVyIDwgKHB0LnggKyBwdC5yKSkgJiYgKGxhYkxlZnRCb3JkZXIgPiAocHQueCAtIHB0LnIpKSAmJiAobGFiQm90Qm9yZGVyIDwgKHB0LnkgKyBwdC5yKSkgJiYgKGxhYlRvcEJvcmRlciA+IChwdC55IC0gcHQucikpO1xuICB9XG5cbiAgY29uc3RydWN0b3IocHRzLCBsYWIpIHtcbiAgICB0aGlzLmdldExpbmtEYXRhID0gdGhpcy5nZXRMaW5rRGF0YS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0TmV3UHRPbkxvZ29MYWJlbEJvcmRlciA9IHRoaXMuZ2V0TmV3UHRPbkxvZ29MYWJlbEJvcmRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0TmV3UHRPblR4dExhYmVsQm9yZGVyID0gdGhpcy5nZXROZXdQdE9uVHh0TGFiZWxCb3JkZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmdldFB0T25BbmNCb3JkZXIgPSB0aGlzLmdldFB0T25BbmNCb3JkZXIuYmluZCh0aGlzKTtcblxuICAgIGNvbnN0IF9sYWJJc1RleHQgPSBsYWJlbERhdGEgPT4gbGFiZWxEYXRhLnVybCA9PT0gJyc7XG5cblxuICAgIHRoaXMubGlua3MgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHB0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHQgPSBwdHNbaV07XG4gICAgICBsZXQgbmV3TGlua1B0ID0gbnVsbDtcbiAgICAgIGlmICghdGhpcy5fbGFiSXNJbnNpZGVCdWJibGVQdChsYWJbaV0sIHB0KSkge1xuICAgICAgICBpZiAoX2xhYklzVGV4dChsYWJbaV0pKSB7XG4gICAgICAgICAgbmV3TGlua1B0ID0gdGhpcy5nZXROZXdQdE9uVHh0TGFiZWxCb3JkZXIobGFiW2ldLCBwdCwgcHRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdMaW5rUHQgPSB0aGlzLmdldE5ld1B0T25Mb2dvTGFiZWxCb3JkZXIobGFiW2ldLCBwdCwgcHRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobmV3TGlua1B0ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgYW5jQm9yZGVyUHQgPSB0aGlzLmdldFB0T25BbmNCb3JkZXIocHQueCwgcHQueSwgcHQuciwgbmV3TGlua1B0WzBdLCBuZXdMaW5rUHRbMV0pO1xuICAgICAgICB0aGlzLmxpbmtzLnB1c2goe1xuICAgICAgICAgIHgxOiBhbmNCb3JkZXJQdFswXSxcbiAgICAgICAgICB5MTogYW5jQm9yZGVyUHRbMV0sXG4gICAgICAgICAgeDI6IG5ld0xpbmtQdFswXSxcbiAgICAgICAgICB5MjogbmV3TGlua1B0WzFdLFxuICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgIGNvbG9yOiBwdC5jb2xvcixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0TGlua0RhdGEoKSB7IHJldHVybiB0aGlzLmxpbmtzOyB9XG5cbiAgZ2V0TmV3UHRPbkxvZ29MYWJlbEJvcmRlcihsYWJlbCwgYW5jaG9yKSB7XG4gICAgLy8gRG9uJ3QgZHJhdyBhIGxpbmsgaWYgYW5jIGlzIGluc2lkZSBsb2dvXG4gICAgbGV0IHJlZ2lvbjtcbiAgICBpZiAoKGxhYmVsLnggLSAobGFiZWwud2lkdGggLyAyKSA8IGFuY2hvci54ICYmIGFuY2hvci54IDwgbGFiZWwueCArIChsYWJlbC53aWR0aCAvIDIpKSAmJiAobGFiZWwueSAtIGxhYmVsLmhlaWdodCA8IGFuY2hvci55ICYmIGFuY2hvci55IDwgbGFiZWwueSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0aW9ucyByZWZlcmVuY2UgLSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQwNjE1NzYvZmluZGluZy1wb2ludHMtb24tYS1yZWN0YW5nbGUtYXQtYS1naXZlbi1hbmdsZVxuICAgIGNvbnN0IGEgPSBsYWJlbC53aWR0aDtcbiAgICBjb25zdCBiID0gbGFiZWwuaGVpZ2h0O1xuICAgIGNvbnN0IGxhYnggPSBsYWJlbC54O1xuICAgIGNvbnN0IGxhYnkgPSBsYWJlbC55IC0gKGxhYmVsLmhlaWdodCAvIDIpO1xuXG4gICAgY29uc3QgZHggPSBhbmNob3IueCAtIGxhYng7XG4gICAgY29uc3QgZHkgPSBhbmNob3IueSAtIGxhYnk7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4oZHkgLyBkeCk7XG5cbiAgICBpZiAoLU1hdGguYXRhbihiIC8gYSkgPCBhbmdsZSAmJiBhbmdsZSA8IE1hdGguYXRhbihiIC8gYSkpIHtcbiAgICAgIHJlZ2lvbiA9IDE7XG4gICAgfSBlbHNlIGlmIChNYXRoLmF0YW4oYiAvIGEpIDwgYW5nbGUgJiYgYW5nbGUgPCBNYXRoLlBJIC0gTWF0aC5hdGFuKGIgLyBhKSkge1xuICAgICAgcmVnaW9uID0gMjtcbiAgICB9IGVsc2UgaWYgKE1hdGguUEkgLSBNYXRoLmF0YW4oYiAvIGEpIDwgYW5nbGUgJiYgYW5nbGUgPCBNYXRoLlBJICsgTWF0aC5hdGFuKGIgLyBhKSkge1xuICAgICAgcmVnaW9uID0gMztcbiAgICB9IGVsc2UgaWYgKCgoTWF0aC5QSSArIE1hdGguYXRhbihiIC8gYSkpIDwgYW5nbGUpIHx8IChhbmdsZSA8IC1NYXRoLmF0YW4oYiAvIGEpKSkge1xuICAgICAgcmVnaW9uID0gNDtcbiAgICB9XG5cbiAgICBpZiAoKHJlZ2lvbiA9PT0gMSkgfHwgKHJlZ2lvbiA9PT0gMykpIHtcbiAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgcmV0dXJuIFtsYWJ4ICsgKGEgLyAyKSwgKChhIC8gMikgKiBNYXRoLnRhbihhbmdsZSkpICsgbGFieV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW2xhYnggLSAoYSAvIDIpLCAtKChhIC8gMikgKiBNYXRoLnRhbihhbmdsZSkpICsgbGFieV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgocmVnaW9uID09PSAyKSB8fCAocmVnaW9uID09PSA0KSkge1xuICAgICAgaWYgKGR5ID4gMCkge1xuICAgICAgICByZXR1cm4gW2xhYnggKyAoYiAvICgyICogTWF0aC50YW4oYW5nbGUpKSksIChiIC8gMikgKyBsYWJ5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbbGFieCAtIChiIC8gKDIgKiBNYXRoLnRhbihhbmdsZSkpKSwgKC1iIC8gMikgKyBsYWJ5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIGNhbGMgdGhlIGxpbmtzIGZyb20gYW5jIHRvIGxhYmVsIHRleHQgaWYgYW1iaWd1b3VzXG4gIGdldE5ld1B0T25UeHRMYWJlbEJvcmRlcihsYWJlbCwgYW5jaG9yLCBhbmNob3JBcnJheSkge1xuICAgIGNvbnN0IGxhYmVsWG1pZCA9IGxhYmVsLng7XG4gICAgY29uc3QgbGFiZWxYbGVmdCA9IGxhYmVsLnggLSAobGFiZWwud2lkdGggLyAyKTtcbiAgICBjb25zdCBsYWJlbFhyaWdodCA9IGxhYmVsLnggKyAobGFiZWwud2lkdGggLyAyKTtcblxuICAgIGNvbnN0IGxhYmVsWWJvdCA9IGxhYmVsLnk7XG4gICAgY29uc3QgbGFiZWxZdG9wID0gbGFiZWwueSAtIGxhYmVsLmhlaWdodDtcbiAgICBjb25zdCBsYWJlbFltaWQgPSBsYWJlbC55IC0gKGxhYmVsLmhlaWdodCAvIDIpO1xuXG4gICAgY29uc3QgYW5jTCA9IGFuY2hvci54IC0gYW5jaG9yLnI7XG4gICAgY29uc3QgYW5jUiA9IGFuY2hvci54ICsgYW5jaG9yLnI7XG4gICAgY29uc3QgYW5jVCA9IGFuY2hvci55ICsgYW5jaG9yLnI7XG4gICAgY29uc3QgYW5jQiA9IGFuY2hvci55IC0gYW5jaG9yLnI7XG5cbiAgICBjb25zdCBsYWJlbEJvcmRlciA9IHtcbiAgICAgIGJvdEw6IFtsYWJlbFhsZWZ0LCBsYWJlbFlib3RdLFxuICAgICAgYm90QzogW2xhYmVsWG1pZCwgbGFiZWxZYm90XSxcbiAgICAgIGJvdFI6IFtsYWJlbFhyaWdodCwgbGFiZWxZYm90XSxcbiAgICAgIHRvcEw6IFtsYWJlbFhsZWZ0LCBsYWJlbFl0b3AgKyA3XSxcbiAgICAgIHRvcEM6IFtsYWJlbFhtaWQsIGxhYmVsWXRvcCArIDddLFxuICAgICAgdG9wUjogW2xhYmVsWHJpZ2h0LCBsYWJlbFl0b3AgKyA3XSxcbiAgICAgIG1pZEw6IFtsYWJlbFhsZWZ0LCBsYWJlbFltaWRdLFxuICAgICAgbWlkUjogW2xhYmVsWHJpZ2h0LCBsYWJlbFltaWRdLFxuICAgIH07XG5cbiAgICBjb25zdCBwYWRkaW5nID0gMTA7XG4gICAgY29uc3QgY2VudGVyZWQgPSAoYW5jUiA+IGxhYmVsWGxlZnQpICYmIChhbmNMIDwgbGFiZWxYcmlnaHQpO1xuICAgIGNvbnN0IGFib3ZlUGFkZGVkID0gYW5jQiA8IChsYWJlbFl0b3AgLSBwYWRkaW5nKTtcbiAgICBjb25zdCBhYm92ZSA9IGFuY0IgPCBsYWJlbFl0b3A7XG4gICAgY29uc3QgYmVsb3dQYWRkZWQgPSBhbmNUID4gKGxhYmVsWWJvdCArIHBhZGRpbmcpO1xuICAgIGNvbnN0IGJlbG93ID0gYW5jVCA+IGxhYmVsWWJvdDtcbiAgICBjb25zdCBsZWZ0ID0gYW5jUiA8IGxhYmVsWGxlZnQ7XG4gICAgY29uc3QgcmlnaHQgPSBhbmNMID4gbGFiZWxYcmlnaHQ7XG4gICAgY29uc3QgbGVmdFBhZGRlZCA9IGFuY1IgPCAobGFiZWxYbGVmdCAtIHBhZGRpbmcpO1xuICAgIGNvbnN0IHJpZ2h0UGFkZGVkID0gYW5jTCA+IChsYWJlbFhyaWdodCArIHBhZGRpbmcpO1xuXG4gICAgaWYgKGNlbnRlcmVkICYmIGFib3ZlUGFkZGVkKSB7XG4gICAgICByZXR1cm4gbGFiZWxCb3JkZXIudG9wQztcbiAgICB9IGVsc2UgaWYgKGNlbnRlcmVkICYmIGJlbG93UGFkZGVkKSB7XG4gICAgICByZXR1cm4gbGFiZWxCb3JkZXIuYm90QztcbiAgICB9IGVsc2UgaWYgKGFib3ZlICYmIGxlZnQpIHtcbiAgICAgIHJldHVybiBsYWJlbEJvcmRlci50b3BMO1xuICAgIH0gZWxzZSBpZiAoYWJvdmUgJiYgcmlnaHQpIHtcbiAgICAgIHJldHVybiBsYWJlbEJvcmRlci50b3BSO1xuICAgIH0gZWxzZSBpZiAoYmVsb3cgJiYgbGVmdCkge1xuICAgICAgcmV0dXJuIGxhYmVsQm9yZGVyLmJvdEw7XG4gICAgfSBlbHNlIGlmIChiZWxvdyAmJiByaWdodCkge1xuICAgICAgcmV0dXJuIGxhYmVsQm9yZGVyLmJvdFI7XG4gICAgfSBlbHNlIGlmIChsZWZ0UGFkZGVkKSB7XG4gICAgICByZXR1cm4gbGFiZWxCb3JkZXIubWlkTDtcbiAgICB9IGVsc2UgaWYgKHJpZ2h0UGFkZGVkKSB7XG4gICAgICByZXR1cm4gbGFiZWxCb3JkZXIubWlkUjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRHJhdyB0aGUgbGluayBpZiB0aGVyZSBhcmUgYW55IGFuYyBuZWFyYnlcbiAgICAgIGNvbnN0IGFtYmlndWl0eUZhY3RvciA9IDEwO1xuICAgICAgY29uc3QgcGFkTCA9IGxhYmVsQm9yZGVyLnRvcExbMF0gLSBhbWJpZ3VpdHlGYWN0b3I7XG4gICAgICBjb25zdCBwYWRSID0gbGFiZWxCb3JkZXIudG9wUlswXSArIGFtYmlndWl0eUZhY3RvcjtcbiAgICAgIGNvbnN0IHBhZFQgPSBsYWJlbEJvcmRlci50b3BMWzFdIC0gYW1iaWd1aXR5RmFjdG9yO1xuICAgICAgY29uc3QgcGFkQiA9IGxhYmVsQm9yZGVyLmJvdFJbMV0gKyBhbWJpZ3VpdHlGYWN0b3I7XG4gICAgICBsZXQgYW5jTmVhcmJ5ID0gMDtcbiAgICAgIF8oYW5jaG9yQXJyYXkpLmVhY2goKGEpID0+IHtcbiAgICAgICAgaWYgKCgoYS54ID4gcGFkTCkgJiYgKGEueCA8IHBhZFIpKSAmJiAoKGEueSA+IHBhZFQpICYmIChhLnkgPCBwYWRCKSkpIHtcbiAgICAgICAgICBhbmNOZWFyYnkrKztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoYW5jTmVhcmJ5ID4gMSkge1xuICAgICAgICBpZiAoIWxlZnQgJiYgIXJpZ2h0ICYmICFhYm92ZSAmJiAhYmVsb3cpIHtcbiAgICAgICAgICByZXR1cm4gbGFiZWxCb3JkZXIuYm90QztcbiAgICAgICAgfSBlbHNlIGlmIChjZW50ZXJlZCAmJiBhYm92ZSkge1xuICAgICAgICAgIHJldHVybiBsYWJlbEJvcmRlci50b3BDO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbnRlcmVkICYmIGJlbG93KSB7XG4gICAgICAgICAgcmV0dXJuIGxhYmVsQm9yZGVyLmJvdEM7XG4gICAgICAgIH0gZWxzZSBpZiAobGVmdCAmJiBhYm92ZSkge1xuICAgICAgICAgIHJldHVybiBsYWJlbEJvcmRlci50b3BMO1xuICAgICAgICB9IGVsc2UgaWYgKGxlZnQgJiYgYmVsb3cpIHtcbiAgICAgICAgICByZXR1cm4gbGFiZWxCb3JkZXIuYm90TDtcbiAgICAgICAgfSBlbHNlIGlmIChyaWdodCAmJiBhYm92ZSkge1xuICAgICAgICAgIHJldHVybiBsYWJlbEJvcmRlci50b3BSO1xuICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0ICYmIGJlbG93KSB7XG4gICAgICAgICAgcmV0dXJuIGxhYmVsQm9yZGVyLmJvdFI7XG4gICAgICAgIH0gZWxzZSBpZiAobGVmdCkge1xuICAgICAgICAgIHJldHVybiBsYWJlbEJvcmRlci5taWRMO1xuICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIGxhYmVsQm9yZGVyLm1pZFI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldFB0T25BbmNCb3JkZXIoY3gsIGN5LCBjciwgeCwgeSkge1xuICAgIGNvbnN0IG9wcCA9IE1hdGguYWJzKGN5IC0geSk7XG4gICAgY29uc3QgYWRqID0gTWF0aC5hYnMoY3ggLSB4KTtcbiAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbihvcHAgLyBhZGopO1xuXG4gICAgY29uc3QgZHggPSBjciAqIE1hdGguY29zKGFuZ2xlKTtcbiAgICBjb25zdCBkeSA9IGNyICogTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgY29uc3QgZmluYWxYID0geCA8IGN4ID8gY3ggLSBkeCA6IGN4ICsgZHg7XG4gICAgY29uc3QgZmluYWxZID0geSA8IGN5ID8gY3kgLSBkeSA6IGN5ICsgZHk7XG5cbiAgICByZXR1cm4gW2ZpbmFsWCwgZmluYWxZXTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExpbmtzO1xuIl19

//# sourceMappingURL=Links.es6.js.map